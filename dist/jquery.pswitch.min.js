/* (c) 2014 payworks GmbH */ 
!function(a){a.fn.pswitch=function(b){function c(a,b,c,d){var e=.3*a+.59*b+.11*c;return a=Math.floor(e*d+a*(1-d)),b=Math.floor(e*d+b*(1-d)),c=Math.floor(e*d+c*(1-d)),[a,b,c]}function d(a,b,c){return"rgb("+a+", "+b+", "+c+")"}function e(a,b){rgb1=c(30,87,153,b),rgb2=c(125,185,232,b),rgb1=d(rgb1[0],rgb1[1],rgb1[2]),rgb2=d(rgb2[0],rgb2[1],rgb2[2]),a.css("background",f(rgb1,rgb2))}function f(a,b){return"linear-gradient(to bottom, "+a+" 0%, "+b+" 100%)"}function g(a){pos=a.pageX-11,k=pos-n,1>=k&&(k=1),k>=29&&(k=29),ratio=k/28,e(m.parent(),ratio),m.css("left",k+"px")}function h(a){a.prop("checked",!0),e(a.parent().find(".pswitch-background"),0),a.parent().find(".pswitch-handle").css("left","1px")}function i(a){a.removeAttr("checked"),e(a.parent().find(".pswitch-background"),1),a.parent().find(".pswitch-handle").css("left","29px")}function j(a){a.prop("checked")?h(a):i(a)}{var k,l,m,n;a.extend({},b)}return a(document).mousemove(function(a){l&&g(a)}),a(document).mouseup(function(b){l&&(checkbox=m.parent().parent().find("input[type=checkbox]"),b.pageX-11-n<14.5?h(checkbox):i(checkbox)),l=!1,a("body").css("user-select","")}),this.filter("input[type=checkbox]").each(function(){datachecked=a(this).attr("data-checked"),dataunchecked=a(this).attr("data-unchecked"),a(this).wrap("<div class='pswitch-wrapper'></div>").hide(),a(this).before("<div class='pswitch-on'>"+datachecked+"</div>").before("<div class='pswitch-background'><div class='pswitch-handle'></div></div>").before("<div class='pswitch-off'>"+dataunchecked+"</div>"),a(this).parent().find(".pswitch-handle").mousedown(function(b){m=a(this),l=!0,n=a(this).parent().offset().left,a("body").css("user-select","none"),g(b)}),a(this).on("check",function(){h(a(this))}),a(this).on("uncheck",function(){i(a(this))}),j(a(this))})}}(jQuery);